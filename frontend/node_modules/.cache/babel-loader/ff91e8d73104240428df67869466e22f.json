{"ast":null,"code":"var _jsxFileName = \"/home/dajana/Desktop/Insurance-Managament-System/frontend/src/components/main/Profile.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBInput, MDBBtn } from 'mdbreact';\nimport Navigatior from \"./Navigatior\";\nimport '../../index.css';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst API = require(\"../../api/index\").default;\n\nfunction Profile(props) {\n  _s();\n\n  const [insuranceCompany, setInsuranceCompany] = useState({});\n  const history = useHistory();\n\n  const getLoggedUser = async () => {\n    const result = await API.getLoggedUser(localStorage.getItem('token'));\n    setInsuranceCompany(result);\n  };\n\n  const handleEdit = async evt => {\n    try {\n      evt.preventDefault();\n      const result = await API.updateProfile(localStorage.getItem('token'), insuranceCompany);\n      if (result) return history.push('/main/profile');\n      alert(\"We couldn't edit your profile!\");\n    } catch (err) {\n      alert(err.message);\n      throw err;\n    }\n  };\n\n  const handleOnChange = event => {\n    const {\n      name,\n      value\n    } = event.currentTarget || event.target;\n    const data = { ...insuranceCompany\n    };\n    data[name] = value;\n    setInsuranceCompany(data);\n  };\n\n  useEffect(() => {\n    getLoggedUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MDBContainer, {\n    className: \"containerClass\",\n    children: [/*#__PURE__*/_jsxDEV(Navigatior, {\n      profileActive: \"active\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n      className: \"rowClass\",\n      children: /*#__PURE__*/_jsxDEV(MDBCol, {\n        md: \"6\",\n        children: /*#__PURE__*/_jsxDEV(MDBCard, {\n          children: /*#__PURE__*/_jsxDEV(MDBCardBody, {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"h5 text-center py-4\",\n                children: \" Update Your Profile \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grey-text\",\n                children: [/*#__PURE__*/_jsxDEV(MDBInput, {\n                  label: \"Name\",\n                  name: \"name\",\n                  icon: \"user\",\n                  type: \"text\",\n                  validate: true,\n                  error: \"wrong\",\n                  success: \"right\",\n                  value: insuranceCompany.name,\n                  onChange: handleOnChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                  label: \"Location\",\n                  name: \"location\",\n                  icon: \"map-marker-alt\",\n                  type: \"text\",\n                  validate: true,\n                  error: \"wrong\",\n                  success: \"right\",\n                  value: insuranceCompany.location,\n                  onChange: handleOnChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                  label: \"Business License Number\",\n                  name: \"licenseNumber\",\n                  icon: \"id-card\",\n                  type: \"text\",\n                  validate: true,\n                  error: \"wrong\",\n                  success: \"right\",\n                  value: insuranceCompany.licenseNumber,\n                  onChange: handleOnChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                  label: \"Address Email\",\n                  name: \"addressEmail\",\n                  icon: \"envelope\",\n                  type: \"email\",\n                  validate: true,\n                  error: \"wrong\",\n                  success: \"right\",\n                  value: insuranceCompany.addressEmail,\n                  onChange: handleOnChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                  disabled: true,\n                  label: \"Password\",\n                  name: \"password\",\n                  icon: \"lock\",\n                  type: \"password\",\n                  validate: true,\n                  value: insuranceCompany.password,\n                  onChange: handleOnChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-4 mt-3\",\n                children: /*#__PURE__*/_jsxDEV(MDBBtn, {\n                  className: \"btn submit\",\n                  type: \"submit\",\n                  onClick: evt => handleEdit(evt),\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"yBGoRLFS/iEal4V5QLPzUwikMqY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/dajana/Desktop/Insurance-Managament-System/frontend/src/components/main/Profile.jsx"],"names":["useState","useEffect","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBInput","MDBBtn","Navigatior","useHistory","API","require","default","Profile","props","insuranceCompany","setInsuranceCompany","history","getLoggedUser","result","localStorage","getItem","handleEdit","evt","preventDefault","updateProfile","push","alert","err","message","handleOnChange","event","name","value","currentTarget","target","data","location","licenseNumber","addressEmail","password"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBInput, MDBBtn } from 'mdbreact';\nimport Navigatior from \"./Navigatior\";\nimport '../../index.css';\nimport { useHistory } from 'react-router-dom';\nconst API = require(\"../../api/index\").default;\n\nfunction Profile(props) {\n    const [insuranceCompany, setInsuranceCompany] = useState({});\n    const history = useHistory();\n\n    const getLoggedUser = async () => {\n        const result = await API.getLoggedUser(localStorage.getItem('token'));\n        setInsuranceCompany(result);\n    }\n\n    const handleEdit = async(evt) => {\n      try {\n        evt.preventDefault();\n        const result = await API.updateProfile(localStorage.getItem('token'), insuranceCompany);\n        if (result) return history.push('/main/profile');\n        alert (\"We couldn't edit your profile!\");\n      } catch(err) {\n        alert (err.message)\n        throw err;\n      }\n    }\n\n    const handleOnChange = event => {\n        const { name, value } = event.currentTarget || event.target;\n        const data = {...insuranceCompany};\n        data[name] = value;\n        setInsuranceCompany(data);\n    };\n    useEffect (() => {\n        getLoggedUser();\n    }, []);\n\n    return(\n        <MDBContainer className=\"containerClass\">\n            <Navigatior profileActive=\"active\" />\n        <MDBRow className=\"rowClass\">\n          <MDBCol md=\"6\">\n            <MDBCard>\n              <MDBCardBody>\n                <form>\n                  <p className=\"h5 text-center py-4\"> Update Your Profile </p>\n                  <div className=\"grey-text\">\n                    <MDBInput  label=\"Name\" name=\"name\" icon=\"user\" type=\"text\" validate error=\"wrong\" success=\"right\" value={insuranceCompany.name} onChange={handleOnChange} />\n                    <MDBInput label=\"Location\" name=\"location\" icon=\"map-marker-alt\" type=\"text\" validate error=\"wrong\" success=\"right\" value={insuranceCompany.location} onChange={handleOnChange}/>\n                    <MDBInput label=\"Business License Number\" name=\"licenseNumber\" icon=\"id-card\"  type=\"text\" validate error=\"wrong\" success=\"right\" value={insuranceCompany.licenseNumber} onChange={handleOnChange}/>\n                    <MDBInput label=\"Address Email\" name=\"addressEmail\" icon=\"envelope\" type=\"email\"validate error=\"wrong\" success=\"right\" value={insuranceCompany.addressEmail} onChange={handleOnChange} />\n                    <MDBInput disabled label=\"Password\" name=\"password\" icon=\"lock\"  type=\"password\" validate value={insuranceCompany.password}  onChange={handleOnChange}/>\n                  </div>\n                  <div className=\"text-center py-4 mt-3\">\n                    <MDBBtn className=\"btn submit\" type=\"submit\" onClick={(evt) => handleEdit(evt)}>Update</MDBBtn>\n                  </div>\n                </form>\n              </MDBCardBody>\n            </MDBCard>\n          </MDBCol>\n        </MDBRow>\n        </MDBContainer>\n    )\n}\nexport default Profile;"]},"metadata":{},"sourceType":"module"}